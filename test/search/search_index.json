{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#dist-s1-documentation","title":"DIST-S1 Documentation","text":"<p>Welcome! This site documents the DIST-S1 package. Currently, the documentation is focused on the Science-Data System (SDS) interface and using <code>run_sas</code> entrypoint. For complete set of use cases, please see the DIST-S1 readme.</p> <p>The SDS interface assumes all the requisite OPERA RTC-S1 data is downloaded and a runconfig.yml has been provided with relevant local paths provided so that you run:</p> <pre><code>run_sas --run_config_path run_config.yml\n</code></pre> <p>For a complete example (in which a <code>run_config</code> is generated in the process) use:</p> <pre><code>dist-s1 run_sas_prep --mgrs_tile_id '11SLT' \\\n    --post_date '2025-01-21' \\\n    --track_number 71 \\\n    --dst_dir '../../notebooks/los-angeles' \\\n    --memory_strategy 'high' \\\n    --low_confidence_alert_threshold 3.5 \\\n    --high_confidence_alert_threshold 5.5 \\\n    --apply_water_mask true \\\n    --device 'cpu' \\\n    --product_dst_dir '../../notebooks/los-angeles' \\\n    --model_source 'transformer_original' \\\n    --use_date_encoding false \\\n    --model_dtype 'float32' \\\n    --n_workers_for_norm_param_estimation 4 \\\n    --batch_size_for_norm_param_estimation 32 \\\n    --stride_for_norm_param_estimation 4 \\\n    --algo_config_path algo_config.yml \\\n    --run_config_path run_config.yml &amp;&amp; \\\ndist-s1 run_sas --run_config_path run_config.yml\n</code></pre> <p>Sample yml configs can be found here:</p> <ul> <li>run_config.yml</li> <li>algo_config.yml</li> </ul> <p>We have provided tables to the relevant fields for the configuration ymls here:</p> <ul> <li>RunConfig Table</li> <li>AlgoConfig Table</li> </ul>"},{"location":"config/algoconfig/","title":"AlgoConfigData","text":""},{"location":"config/algoconfig/#algoconfigdata","title":"AlgoConfigData","text":"Attribute Type Default Required Description <code>device</code> <code>str</code> best No Device to use for model inference. <code>best</code> will use the best available device. <code>memory_strategy</code> <code>str | None</code> high No Memory strategy to use for model inference. <code>high</code> will use more memory, <code>low</code> will use less. Utilizing more memory will improve runtime performance. <code>tqdm_enabled</code> <code>bool</code> True No Whether to enable tqdm progress bars. <code>n_workers_for_norm_param_estimation</code> <code>int</code> 8 No Number of workers for norm parameter estimation from the baseline. Utilizing more workers will improve runtime performance and utilize more memory. Does not work with model compilation or MPS/GPU devices. <code>batch_size_for_norm_param_estimation</code> <code>int</code> 32 No Batch size for norm parameter estimation from the baseline. Utilizing a larger batch size will improve runtime performance and utilize more memory. <code>stride_for_norm_param_estimation</code> <code>int</code> 16 No Stride for norm parameter estimation from the baseline. Utilizing a larger stride will improve metric accuracy and utilize more memory.Memory usage scales inverse quadratically with stride. That is, If stride=16 consumes N bytes of memory, then stride=4 consumes 16N bytes of memory. <code>apply_logit_to_inputs</code> <code>bool</code> True No Whether to apply logit transform to the input data. <code>n_workers_for_despeckling</code> <code>int</code> 8 No Number of workers for despeckling. Utilizing more workers will improve runtime performance and utilize more memory. <code>lookback_strategy</code> <code>str</code> multi_window No Lookback strategy to use for data curation of the baseline. <code>multi_window</code> will use a multi-window lookback strategy and is default for OEPRA DIST-S1, <code>immediate_lookback</code> will use an immediate lookback strategy using acquisitions preceding the post-date. <code>immediate_lookback</code> is not supported yet. <code>post_date_buffer_days</code> <code>int</code> 1 No Buffer days around post-date for data collection to create acqusition image to compare baseline to. <code>model_compilation</code> <code>bool</code> False No Whether to compile the model for CPU or GPU. False, use the model as is. True, load the model and compile for CPU or GPU optimizations. <code>max_pre_imgs_per_burst_mw</code> <code>tuple[int, ...] | None</code> None Yes Max number of pre-images per burst within each window. If <code>None</code>, the value will be calculated based on the model context length and the number of anniversaries. Specifically, the value will be context_length // n_anniversaries with remainder added to the first window. <code>delta_lookback_days_mw</code> <code>tuple[int, ...] | None</code> None Yes Delta lookback days for each window relative to post-image acquisition date. If <code>None</code>, the value will be calculated based on the number of anniversaries (default is 3). <code>low_confidence_alert_threshold</code> <code>float</code> 3.5 No Low confidence alert threshold for detecting disturbance between baseline and post-image. <code>high_confidence_alert_threshold</code> <code>float</code> 5.5 No High confidence alert threshold for detecting disturbance between baseline and post-image. <code>no_day_limit</code> <code>int</code> 30 No Number of days to limit confirmation process logic to. Confirmation must occur within first observance of disturbance and <code>no_day_limit</code> days after first disturbance. <code>exclude_consecutive_no_dist</code> <code>int</code> True No Boolean activation of consecutive no disturbance tracking during confirmation. True will apply this logic: after 2 no disturbances within product sequence, the disturbance must finish or be reset. False will not apply this logic. <code>percent_reset_thresh</code> <code>int</code> 10 No Precentage number threshold to reset disturbance. Values below <code>percent_reset_thresh</code> will reset disturbance. <code>no_count_reset_thresh</code> <code>int</code> 7 No If the number of non-disturbed observations <code>prevnocount</code> is above <code>nocount_reset_thresh</code> disturbance will reset. <code>max_obs_num_year</code> <code>int</code> 253 No Max observation number per year. If observations exceeds this number, then the confirmation must conclude and be reset. <code>confidence_upper_lim</code> <code>int</code> 32000 No Confidence upper limit for confirmation. Confidence is an accumulation of the metric over time. <code>confirmation_confidence_threshold</code> <code>float</code> 31.5 No This is the threshold for the confirmation process to determine if a disturbance is confirmed. <code>metric_value_upper_lim</code> <code>float</code> 100.0 No Metric upper limit set during confirmation <code>model_source</code> <code>str</code> transformer_optimized No Model source. If <code>external</code>, use externally supplied paths for weights and config. Otherwise, use distmetrics.model_load.ALLOWED_MODELS for other models. <code>model_cfg_path</code> <code>pathlib.Path | str | None</code> None Yes Path to model config file. If <code>external</code>, use externally supplied path. Otherwise, use distmetrics.model_load.ALLOWED_MODELS for other models. <code>model_wts_path</code> <code>pathlib.Path | str | None</code> None Yes Path to model weights file. If <code>external</code>, use externally supplied path. Otherwise, use distmetrics.model_load.ALLOWED_MODELS for other models. <code>apply_despeckling</code> <code>bool</code> True No Whether to apply despeckling to the input data. <code>interpolation_method</code> <code>str</code> bilinear No Interpolation method to use for despeckling. <code>nearest</code> will use nearest neighbor interpolation, <code>bilinear</code> will use bilinear interpolation, and <code>none</code> will not apply despeckling. <code>model_dtype</code> <code>str</code> float32 No Data type for model inference. Note: bfloat16 is only supported on GPU devices. <code>use_date_encoding</code> <code>bool</code> False No Whether to use acquisition date encoding in model application (currently not supported) <code>n_anniversaries_for_mw</code> <code>int</code> 3 No Number of anniversaries to use for multi-window"},{"location":"config/runconfig/","title":"RunConfigData","text":""},{"location":"config/runconfig/#runconfigdata","title":"RunConfigData","text":"Attribute Type Default Required Description <code>pre_rtc_copol</code> <code>list[pathlib.Path | str]</code> No default Yes List of paths to pre-rtc copolarization data. <code>pre_rtc_crosspol</code> <code>list[pathlib.Path | str]</code> No default Yes List of paths to pre-rtc crosspolarization data. <code>post_rtc_copol</code> <code>list[pathlib.Path | str]</code> No default Yes List of paths to post-rtc copolarization data. <code>post_rtc_crosspol</code> <code>list[pathlib.Path | str]</code> No default Yes List of paths to post-rtc crosspolarization data. <code>prior_dist_s1_product</code> <code>DistS1ProductDirectory | None</code> None Yes Path to prior DIST-S1 product. Can accept str, Path, or DistS1ProductDirectory. If None, no prior product is used and confirmation is not performed. <code>mgrs_tile_id</code> <code>str</code> No default Yes MGRS tile ID. Required to kick-off disturbance processing. <code>dst_dir</code> <code>pathlib.Path | str</code> <code>out</code> No No description available <code>input_data_dir</code> <code>pathlib.Path | str | None</code> None Yes Input data directory. If None, defaults to dst_dir. <code>water_mask_path</code> <code>pathlib.Path | str | None</code> None Yes Path to water mask. If None, no water mask is used. <code>apply_water_mask</code> <code>bool</code> True No Whether to apply water mask to the input data. If True, water mask is applied to the input data. If no water mask path is provided, the tiles to generate the water mask are localized and formatted for use. <code>check_input_paths</code> <code>bool</code> True No Whether to check if the input paths exist. If True, the input paths are checked. Used during testing. <code>product_dst_dir</code> <code>pathlib.Path | str | None</code> None Yes Path to product directory. If None, defaults to dst_dir. <code>bucket</code> <code>str | None</code> None Yes Bucket to use for product storage. If None, no bucket is used. <code>bucket_prefix</code> <code>str | None</code> None Yes Bucket prefix to use for product storage. If None, no bucket prefix is used. <code>algo_config</code> <code>AlgoConfigData</code> No default Yes Algorithm configuration parameters. <code>algo_config_path</code> <code>pathlib.Path | str | None</code> None Yes Path to external algorithm config file. If None, no external algorithm config is used."}]}